import{f as S,c as u,a as t,d as P,b as j,q as R,h as b,j as i,k as v,i as a,t as d,e as C,w as T,r as _,_ as B,F as L,u as Z,o as r}from"./index-CPAmuxyc.js";const D={class:"min-h-screen bg-blue-50"},F={class:"mx-auto flex min-h-screen max-w-6xl items-center justify-center px-4 py-12"},O={class:"grid w-full grid-cols-1 gap-8 md:grid-cols-2"},q={class:"rounded-3xl bg-white p-8 shadow-lg ring-1 ring-blue-200"},J={key:0,class:"mt-2 text-xs text-red-600"},G={key:0,class:"mt-2 text-xs text-red-600"},H={key:1,class:"mt-2 text-xs text-red-600"},K={key:0,class:"mt-2 text-xs text-red-600"},Q={key:0,class:"mt-2 text-xs text-red-600"},W={key:0,class:"mt-2 text-xs text-red-600"},X={class:"mt-6 text-center text-sm text-black"},te=S({__name:"Register",setup(Y){const z=Z(),s=a({username:"",loginId:"",email:"",password:""}),c=a(""),w=a(!1),I=a(""),y=a(null),f=a(null),m=a(null),p=a(null),g=a(null),x=a(null),h=o=>{I.value=o,w.value=!0},V=()=>{w.value=!1},A=o=>{const l=o.target.value;if(!l)g.value=null;else{const n=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\w\s]).{8,16}$/;g.value=n.test(l)?null:"8~16자의 영문 대/소문자, 숫자, 특수문자를 사용해 주세요."}c.value&&(x.value=c.value===l?null:"비밀번호와 동일하게 입력하세요")},E=o=>{const l=o.target.value;l?x.value=l===s.value.password?null:"비밀번호와 동일하게 입력하세요":x.value=null},N=o=>{const l=o.target.value;f.value=l&&l.trim().length>15?"이름은 15글자 이내로 입력하세요.":null},U=o=>{const l=o.target.value;if(!l){m.value=null;return}m.value=/^[A-Za-z]{1,10}$/.test(l)?null:"아이디는 영문만 10글자 이내로 입력하세요."},$=o=>{const l=o.target.value;if(!l){p.value=null;return}const n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;p.value=n.test(l)?null:"이메일 형식이 올바르지 않습니다."},M=async()=>{if(!s.value.username||!s.value.loginId||!s.value.email||!s.value.password||!c.value){h("필수값을 입력하세요.");return}const o=s.value.username.trim(),e=s.value.loginId.trim(),l=s.value.email.trim();if(o.length>15){f.value="이름은 15글자 이내로 입력하세요.";return}if(!/^[A-Za-z]{1,10}$/.test(e)){m.value="아이디는 영문만 10글자 이내로 입력하세요.";return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)){p.value="이메일 형식이 올바르지 않습니다.";return}try{const k=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s.value)});if(!k.ok){k.status===409?y.value="이미 존재하는 아이디 입니다":h("회원가입 오류");return}z.push("/login")}catch(k){console.error(k),h("오류가 발생했습니다.")}};return(o,e)=>{const l=_("RouterLink");return r(),u(L,null,[t("div",D,[t("div",F,[t("div",O,[e[15]||(e[15]=j('<div class="hidden rounded-3xl bg-gradient-to-br from-zinc-200 via-zinc-100 to-blue-100 p-10 text-black md:block"><div class="flex h-full flex-col justify-between"><div><div class="text-sm uppercase tracking-widest text-black">tmsP</div><h1 class="mt-6 text-3xl font-bold leading-tight"> 환영합니다 <span class="block text-black">새 계정을 만들어요</span></h1><p class="mt-4 text-sm text-black"> 회원가입 후 문서 허브와 자동화 기능을 바로 사용할 수 있어요. </p></div></div></div>',1)),t("div",q,[e[14]||(e[14]=t("div",{class:"mb-6"},[t("h2",{class:"text-2xl font-semibold text-black"},"회원가입"),t("p",{class:"mt-2 text-sm text-black"},"정보를 입력해 계정을 만들어 주세요.")],-1)),t("form",{onSubmit:R(M,["prevent"]),class:"space-y-6"},[t("div",null,[e[5]||(e[5]=t("label",{class:"text-sm font-medium text-black"},"이름",-1)),b(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>s.value.username=n),onInput:N,placeholder:"",class:"mt-2 w-full rounded-xl border border-blue-200 px-4 py-3 text-sm text-black placeholder:text-black/50 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200"},null,544),[[v,s.value.username]]),f.value?(r(),u("p",J,d(f.value),1)):i("",!0)]),t("div",null,[e[6]||(e[6]=t("label",{class:"text-sm font-medium text-black"},"아이디",-1)),b(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=n=>s.value.loginId=n),onInput:U,placeholder:"",class:"mt-2 w-full rounded-xl border border-blue-200 px-4 py-3 text-sm text-black placeholder:text-black/50 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200"},null,544),[[v,s.value.loginId]]),y.value?(r(),u("p",G,d(y.value),1)):i("",!0),m.value?(r(),u("p",H,d(m.value),1)):i("",!0)]),t("div",null,[e[7]||(e[7]=t("label",{class:"text-sm font-medium text-black"},"이메일",-1)),b(t("input",{type:"email","onUpdate:modelValue":e[2]||(e[2]=n=>s.value.email=n),onInput:$,placeholder:"you@example.com",class:"mt-2 w-full rounded-xl border border-blue-200 px-4 py-3 text-sm text-black placeholder:text-black/50 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200"},null,544),[[v,s.value.email]]),p.value?(r(),u("p",K,d(p.value),1)):i("",!0)]),t("div",null,[e[8]||(e[8]=t("label",{class:"text-sm font-medium text-black"},"비밀번호",-1)),b(t("input",{type:"password","onUpdate:modelValue":e[3]||(e[3]=n=>s.value.password=n),onInput:A,class:"mt-2 w-full rounded-xl border border-blue-200 px-4 py-3 text-sm text-black placeholder:text-black/50 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200"},null,544),[[v,s.value.password]]),g.value?(r(),u("p",Q,d(g.value),1)):i("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{class:"text-sm font-medium text-black"},"비밀번호 확인",-1)),b(t("input",{type:"password","onUpdate:modelValue":e[4]||(e[4]=n=>c.value=n),onInput:E,class:"mt-2 w-full rounded-xl border border-blue-200 px-4 py-3 text-sm text-black placeholder:text-black/50 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200"},null,544),[[v,c.value]]),x.value?(r(),u("p",W,d(x.value),1)):i("",!0)]),e[10]||(e[10]=t("div",{class:"flex items-start gap-3 text-sm text-black"},[t("input",{type:"checkbox",class:"mt-1 size-4 rounded border-blue-300 text-black focus:ring-blue-500"}),t("span",null,"이용약관 및 개인정보 처리방침에 동의합니다.")],-1)),e[11]||(e[11]=t("button",{type:"submit",class:"w-full rounded-xl bg-blue-200 px-4 py-3 text-sm font-semibold text-black shadow-lg shadow-blue-200/40 transition hover:bg-blue-300"}," 계정 만들기 ",-1))],32),t("div",X,[e[13]||(e[13]=C(" 이미 계정이 있나요? ",-1)),P(l,{to:"/login",class:"font-semibold text-black hover:text-black/70"},{default:T(()=>[...e[12]||(e[12]=[C("로그인",-1)])]),_:1})])])])])]),P(B,{open:w.value,title:"알림",message:I.value,"show-cancel":!1,"confirm-text":"확인",onClose:V,onConfirm:V},null,8,["open","message"])],64)}}});export{te as default};
