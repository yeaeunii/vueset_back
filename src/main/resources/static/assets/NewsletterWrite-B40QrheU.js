import{d as w,c as g,a as e,k,l as U,w as d,v as h,r as a,e as i,b as C,_ as V,F as M,u as N,h as b}from"./index-JUhIXwfL.js";const R={class:"bg-gray-50 py-16 sm:py-20"},j={class:"mx-auto max-w-4xl px-6 lg:px-8"},B={class:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm sm:p-8"},L={class:"grid gap-6 sm:grid-cols-2"},A={class:"grid gap-6 sm:grid-cols-2"},I={key:0,class:"mt-4 overflow-hidden rounded-xl border border-gray-200"},F=["src"],_=w({__name:"NewsletterWrite",setup(O){const f=N(),u=a(null),l=a({category:"",issue:"",title:"",description:"",date:"",href:"/newsletter",image:null}),r=a(""),n=a(!1),m=a(""),c=o=>{m.value=o,n.value=!0},p=()=>{n.value=!1},x=()=>{const o=u.value?.files?.[0]??null;l.value.image=o,r.value&&URL.revokeObjectURL(r.value),r.value=o?URL.createObjectURL(o):""},v=()=>{f.push("/newsletter")},y=()=>{if(!l.value.title.trim()||!l.value.description.trim()){c("필수값을 입력하세요.");return}};return(o,t)=>(b(),g(M,null,[e("div",R,[e("div",j,[t[11]||(t[11]=e("div",{class:"mb-10"},[e("h2",{class:"text-3xl font-semibold tracking-tight text-gray-900 sm:text-4xl"}," 뉴스레터 작성 "),e("p",{class:"mt-2 text-sm text-gray-500"}," 뉴스레터 카드에 표시될 내용을 입력하세요. ")],-1)),e("div",B,[e("form",{onSubmit:U(y,["prevent"]),class:"space-y-6"},[e("div",L,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700"},"카테고리",-1)),d(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.category=s),class:"mt-2 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:border-rose-400 focus:ring-rose-200"},[...t[4]||(t[4]=[e("option",{value:""},"선택",-1),e("option",{value:"1"},"카테고리1",-1),e("option",{value:"2"},"카테고리2",-1)])],512),[[h,l.value.category]])])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"제목",-1)),d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.title=s),type:"text",class:"mt-2 block w-full rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-900 focus:border-rose-400 focus:ring-rose-200",placeholder:"뉴스레터 제목을 입력하세요"},null,512),[[i,l.value.title]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700"},"요약",-1)),d(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.description=s),rows:"4",class:"mt-2 block w-full rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-900 focus:border-rose-400 focus:ring-rose-200",placeholder:"카드에 노출될 요약을 입력하세요"},null,512),[[i,l.value.description]])]),e("div",A,[e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700"},"발행일",-1)),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.date=s),type:"date",class:"mt-2 block w-full rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-900 focus:border-rose-400 focus:ring-rose-200"},null,512),[[i,l.value.date]])])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700"},"이미지",-1)),e("input",{ref_key:"imageInput",ref:u,type:"file",accept:"image/*",class:"mt-2 block w-full rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-700 file:mr-4 file:rounded-md file:border-0 file:bg-rose-50 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-rose-600 hover:file:bg-rose-100",onChange:x},null,544),r.value?(b(),g("div",I,[e("img",{src:r.value,alt:"미리보기",class:"h-48 w-full object-cover"},null,8,F)])):C("",!0)]),e("div",{class:"flex justify-end gap-3 pt-2"},[e("button",{type:"button",class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50",onClick:v}," 취소 "),t[10]||(t[10]=e("button",{type:"submit",class:"rounded-md bg-rose-500 px-6 py-2 text-sm font-semibold text-white hover:bg-rose-600"}," 저장 ",-1))])],32)])])]),k(V,{open:n.value,title:"알림",message:m.value,"show-cancel":!1,"confirm-text":"확인",onClose:p,onConfirm:p},null,8,["open","message"])],64))}});export{_ as default};
