import{f as _,n as k,g as C,p as j,c as r,a as e,j as x,F as m,m as y,y as N,s as B,w as h,e as p,h as L,k as S,i as c,t as i,r as E,o,z as M,d as V}from"./index-DVDskhOi.js";const $={class:"bg-gray-50 py-16 sm:py-20"},z={class:"mx-auto max-w-7xl px-6 lg:px-8"},R={class:"mt-10 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between"},T={class:"flex flex-wrap items-center gap-2"},U=["onClick"],D={class:"flex w-full max-w-md items-center gap-2 lg:justify-end"},A={class:"relative w-full"},F={class:"mt-10 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},P={class:"relative"},q={class:"h-48 w-full bg-gradient-to-br from-gray-100 via-white to-rose-50"},Q=["src","alt"],G={class:"absolute left-4 top-4 rounded-full bg-rose-100 px-3 py-1 text-xs font-semibold text-gray-700"},H={class:"p-5"},I={class:"flex items-center gap-3 text-xs text-gray-500"},J={class:"mt-3 text-lg font-semibold text-gray-900 group-hover:text-rose-600"},K={class:"mt-2 line-clamp-2 text-sm text-gray-600"},O={class:"mt-5 flex justify-end"},W={key:0,class:"mt-10 text-center text-sm text-gray-500"},X={key:1,class:"mt-10 text-center text-sm text-rose-600"},Y={key:2,class:"mt-10 text-center text-sm text-gray-500"},se=_({__name:"Newsletter",setup(Z){const b=k(),w=["전체","릴리즈","운영 리포트","공지 사항"],a=c("전체"),l=c(""),u=c([]),v=c(!1),g=c(""),f=async()=>{v.value=!0,g.value="";try{const n=new URLSearchParams;a.value&&a.value!=="전체"&&n.append("category",a.value),l.value.trim()&&n.append("keyword",l.value.trim());const t=n.toString(),d=await fetch(`/api/newsletter/list${t?`?${t}`:""}`);if(!d.ok)throw new Error("목록 조회 실패");u.value=await d.json()}catch(n){console.error(n),g.value="목록을 불러오지 못했습니다.",u.value=[]}finally{v.value=!1}};return C(()=>{f()}),j([a,l],()=>{f()}),(n,t)=>{const d=E("RouterLink");return o(),r("div",$,[e("div",z,[t[6]||(t[6]=e("div",{class:"text-center"},[e("div",{class:"mx-auto inline-flex items-center gap-2 rounded-full bg-rose-100 px-4 py-1 text-sm font-semibold text-rose-700"}," UPDATE CENTER "),e("h1",{class:"mt-4 text-3xl font-semibold tracking-tight text-gray-900 sm:text-4xl"}," 업데이트 센터 "),e("p",{class:"mt-2 text-sm text-gray-500"}," 릴리즈, 운영 리포트, 공지 소식을 모아봤어요 ")],-1)),e("div",R,[e("div",T,[(o(),r(m,null,y(w,s=>e("button",{key:s,type:"button",onClick:ee=>a.value=s,class:M(["rounded-full px-4 py-2 text-sm font-semibold transition",a.value===s?"bg-slate-900 text-white":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"])},i(s),11,U)),64))]),e("div",D,[B(b).isLogin?(o(),N(d,{key:0,to:"/newsletter/write",class:"inline-flex h-12 w-12 flex-col items-center justify-center rounded-xl border border-rose-200 bg-rose-50 text-xs font-semibold text-rose-700 hover:bg-rose-100"},{default:h(()=>[...t[2]||(t[2]=[p(" 작",-1),e("br",null,null,-1),p("성 ",-1)])]),_:1})):x("",!0),e("div",A,[L(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value=s),type:"search",placeholder:"검색",class:"w-full rounded-full border border-gray-300 bg-white px-4 py-2.5 pr-10 text-sm text-gray-900 placeholder:text-gray-400 focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-200"},null,512),[[S,l.value]]),l.value?(o(),r("button",{key:0,type:"button",class:"absolute right-2 top-1/2 -translate-y-1/2 rounded-full p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600",onClick:t[1]||(t[1]=s=>l.value=""),"aria-label":"검색어 지우기"},[...t[3]||(t[3]=[e("svg",{class:"size-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])):x("",!0)]),t[4]||(t[4]=e("button",{class:"inline-flex size-11 items-center justify-center rounded-xl border border-gray-300 bg-white text-gray-700 hover:bg-gray-100","aria-label":"검색"},[e("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.3-4.3"})])],-1))])]),e("div",F,[(o(!0),r(m,null,y(u.value,s=>(o(),r("article",{key:s.id,class:"group overflow-hidden rounded-2xl border border-gray-200 bg-white shadow-sm transition hover:-translate-y-1 hover:shadow-lg"},[e("div",P,[e("div",q,[s.image?(o(),r("img",{key:0,src:s.image,alt:s.title,class:"h-full w-full object-cover"},null,8,Q)):x("",!0)]),e("span",G,i(s.category),1)]),e("div",H,[e("div",I,[e("time",null,i(s.createdAt),1)]),e("h3",J,i(s.title),1),e("p",K,i(s.description),1),e("div",O,[V(d,{to:`/newsletter/${s.id}`,class:"rounded-full bg-gray-100 px-4 py-1.5 text-xs font-semibold text-gray-700 hover:bg-gray-900 hover:text-white"},{default:h(()=>[...t[5]||(t[5]=[p(" 더보기 ",-1)])]),_:1},8,["to"])])])]))),128))]),v.value?(o(),r("div",W," 불러오는 중... ")):g.value?(o(),r("div",X,i(g.value),1)):u.value.length===0?(o(),r("div",Y," 검색 결과가 없습니다. ")):x("",!0)])])}}});export{se as default};
